import numpy as np
import matplotlib.pyplot as plt
from Converter import *

def sistema_Clasico_Canicas(m, v, clicks):
    M = to_Matrix(m)
    V = to_Vector(v)
    
    #EVOLUCIÓN DEL SISTEMA LUEGO DE N CLICKS DE TIEMPO
    for k in range(clicks):
        V = M.actOnVect(V)

    #GRAFO DE PROBABILIDADES
    labels = []
    states = []
    for x in range(len(v)):
        labels.append("Punto."+str(x))
        states.append(V.numbers[x].element_1)
    index = np.arange(len(labels))
    plt.bar(index, states)
    plt.xlabel("Estado")
    plt.ylabel("Valor")
    plt.xticks(index, labels, rotation = 75)
    plt.title("Evolución Dinámica del sistema luego de "+str(clicks)+" click(s) de tiempo:")
    plt.show()

#############################################################################################

M = [[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0]],
     [[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0]],
     [[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
     [[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
     [[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0]],
     [[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]]
    ]

V = [[[10,0]],
     [[4,0]],
     [[1,0]],
     [[7,0]],
     [[2,0]],
     [[2,0]],
     [[11,0]],
     [[0,0]],
     [[3,0]],
     [[1,0]],
     [[0,0]],
     [[5,0]],
     [[2,0]]
    ]

C = 25
sistema_Clasico_Canicas(M, V, C)
